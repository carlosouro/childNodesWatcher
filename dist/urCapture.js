!function(){void 0!==window.urCapture&&window.console&&window.console.error("Attempting to redefine urCapture helper module");var o=!1;function r(){var e=window.MutationObserver||window.WebKitMutationObserver;"function"==typeof e?new e(function(e){for(var t,n,o,r=e.length,i=0;i<r;i++){o=(n=(t=e[i]).addedNodes).length;for(var d=0;d<o;d++)a(n[d]);o=(n=t.removedNodes).length;for(d=0;d<o;d++)h(n[d])}}).observe(window.document,{childList:!0,subtree:!0}):(document.addEventListener("DOMNodeInserted",function(e){a(e.target)}),document.addEventListener("DOMNodeRemoved",function(e){h(e.target)}));o=!0}var c=[],u=[],l=[],f={},s={};function a(e){!function(e){if("function"!=typeof e.matches)return;for(var t,n,o,r,i=[],d=c.length,a=0;a<d;a++)if(n=c[a],e.matches(n))for(i.push(n),o=f[n]||[],r=o.length,t=0;t<r;t++)o[t].call(e);0<i.length&&(u.push(e),l.push(i))}(e);for(var t=e.firstChild;t;)a(t),t=t.nextSibling}function h(e){!function(e){var t=u.indexOf(e);if(-1!==t){u.splice(t,1);for(var n,o,r,i=l.splice(t,1)[0],d=i.length,a=0;a<d;a++)for(o=s[i[a]]||[],r=o.length,n=0;n<r;n++)o[n].call(e)}}(e);for(var t=e.firstChild;t;)h(t),t=t.nextSibling}function i(e){void 0===s[e]&&void 0===f[e]&&c.push(e)}window.urCapture={internalState:{selectors:c,matchedElementsInDOM:u,matchedElementsInDOMMatchedSelectors:l,addedCallbackStack:f,removedCallbackStack:s},watchForAddedElements:function(e,t){o||r(),i(e),void 0===f[e]&&(f[e]=[]),f[e].push(t)},watchForRemovedElements:function(n,e){if(o||r(),i(n),void 0===s[n]){s[n]=[];var t=window.document.querySelectorAll(n);Array.prototype.forEach.call(t,function(e){var t=u.indexOf(e);-1!==t?void 0===f[n]&&l[t].push(n):(u.push(e),l.push([n]))})}s[n].push(e)}}}();